<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PinBoard</title>
    <script src="https://pinboard.local.dev-gutools.co.uk/pinboard.loader.js"></script>
  </head>

  <body>
    <h3>Pinboard preselection (for composer ID 54f39ac9e4b09d0edf204cb0)</h3>
    <button id="btn-add-preselection">Add pinboard pre-selection</button>
    <button id="btn-remove-preselection">Remove pinboard pre-selection</button>

    <h3>Pinboard preselection (for invalid/untracked composer ID)</h3>
    <button id="btn-add-invalid-preselection">
      Add pinboard INVALID pre-selection
    </button>
    <button id="btn-remove-invalid-preselection">
      Remove pinboard INVALID pre-selection
    </button>

    <h3>button added initially</h3>
    <asset-handle
      data-source="grid"
      data-source-type="crop"
      data-thumbnail="https://s3-eu-west-1.amazonaws.com/media-origin.test.dev-guim.co.uk/24733ea386c7fcb37496c55cc86e8f1468b9dfcf/817_0_1866_2333/400.jpg"
      data-primary-id="24733ea386c7fcb37496c55cc86e8f1468b9dfcf"
      data-secondary-id="817_0_1866_2333"
    ></asset-handle>
    <h3>button added after 1 second</h3>
    <!--
            the setTimeout in the <script> further up will add an element here after 1 second,
            which the PinBoard library will detect and convert to a button
        -->
  </body>
  <script>
    setTimeout(
      () => {
        const delayedAddButton = document.createElement("asset-handle");
        delayedAddButton.dataset.source = "grid";
        delayedAddButton.dataset.sourceType = "crop";
        delayedAddButton.dataset.thumbnail =
          "https://s3-eu-west-1.amazonaws.com/media-origin.test.dev-guim.co.uk/24733ea386c7fcb37496c55cc86e8f1468b9dfcf/817_0_1866_2333/400.jpg";
        delayedAddButton.dataset.primaryId =
          "24733ea386c7fcb37496c55cc86e8f1468b9dfcf";
        delayedAddButton.dataset.secondaryId = "817_0_1866_2333";
        document.body.appendChild(delayedAddButton);
      },
      1000 // 1 second delay
    );

    const preSelectPinboardElement = document.createElement(
      "pinboard-preselect"
    );
    preSelectPinboardElement.dataset.composerId = "54f2d2fee4b011581586e710";
    document
      .getElementById("btn-add-preselection")
      .addEventListener("click", () => {
        document.body.appendChild(preSelectPinboardElement);
      });
    document
      .getElementById("btn-remove-preselection")
      .addEventListener("click", () => {
        preSelectPinboardElement.remove();
      });

    const preSelectInvalidPinboardElement = document.createElement(
      "pinboard-preselect"
    );
    preSelectInvalidPinboardElement.dataset.composerId = "INVALID";
    document
      .getElementById("btn-add-invalid-preselection")
      .addEventListener("click", () => {
        document.body.appendChild(preSelectInvalidPinboardElement);
      });
    document
      .getElementById("btn-remove-invalid-preselection")
      .addEventListener("click", () => {
        preSelectInvalidPinboardElement.remove();
      });
  </script>
</html>
