regions:
  - eu-west-1
stacks:
  - workflow
deployments:
  pinboard-cloudformation:
    type: cloud-formation
    app: pinboard
    parameters:
      cloudFormationStackByTags: false
      prependStackToCloudFormationStackName: false
      cloudFormationStackName: pinboard
      templatePath: cloudformation.yaml

  pinboard-bootstrapping-lambda-api:
    dependencies:
      - pinboard-cloudformation
    type: aws-lambda
    parameters:
      prefixStack: false
      bucket: workflow-dist
      fileName: pinboard-bootstrapping-lambda-api.zip
      functionNames: [pinboard-bootstrapping-lambda-]

  pinboard-workflow-bridge-lambda:
    dependencies:
      - pinboard-cloudformation
    type: aws-lambda
    parameters:
      prefixStack: false
      bucket: workflow-dist
      fileName: pinboard-workflow-bridge-lambda.zip
      functionNames: [pinboard-workflow-bridge-lambda-]

  pinboard-users-refresher-lambda:
    dependencies:
      - pinboard-cloudformation
    type: aws-lambda
    parameters:
      prefixStack: false
      bucket: workflow-dist
      fileName: pinboard-users-refresher-lambda.zip
      functionNames: [pinboard-users-refresher-lambda-]
